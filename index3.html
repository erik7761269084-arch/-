<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>御女宫 · 分类导航</title>

<style>
body {
  margin: 0;
  font-family: "微软雅黑", sans-serif;
  background: #0d0d0d;
  color: #fff;
  padding-top: 70px;
}

/* 标题 */
.page-title {
  text-align: center;
  font-size: 28px;
  font-weight: bold;
  color: #ffa500;
  margin-bottom: 28px;
}

/* 内容布局 */
#companyGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 25px;
  padding: 0 20px 40px;
}

/* 卡片 */
.card {
  background: #1a1a1a;
  border-radius: 12px;
  overflow: hidden;
  cursor: pointer;
  aspect-ratio: 16 / 9;
  position: relative;
  transition: transform .25s, box-shadow .25s;
}
.card:hover {
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(255,255,255,.25);
}

.card img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: .55;
  transition: opacity .3s;
}
.card:hover img {
  opacity: .25;
}

.card-overlay {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.card-title {
  font-size: 22px;
  font-weight: bold;
  text-shadow: 0 0 10px rgba(0,0,0,.8);
}
</style>
</head>
<body>

<!-- 顶部 header 插槽 -->
<div id="header-placeholder"></div>

<div class="page-title">御女宫网站分类</div>

<div id="companyGrid"></div>

<!-- 底部 footer 插槽 -->
<div id="footer-placeholder"></div>

<script>
// 加载 header
fetch("header.html")
  .then(r => r.text())
  .then(html => {
    document.getElementById("header-placeholder").innerHTML = html;
    const script = document.createElement("script");
    script.src = "header.js";
    document.body.appendChild(script);
  });

// 加载 footer
fetch("https://yunvgong.com/footer.html")
  .then(r => r.text())
  .then(html => document.getElementById("footer-placeholder").innerHTML = html);

// 加载分类 JSON
fetch("https://yunvgong.com/category_net.json")
  .then(r => r.json())
  .then(list => render(list));

function render(list) {
  const box = document.getElementById("companyGrid");
  box.innerHTML = "";

  list.forEach(item => {
    const img = item.img_url || "https://picture.yoshiclub.xyz/20230930/20230930013717874874.jpg";
    const div = document.createElement("div");
    div.className = "card";
    div.onclick = () => window.location.href = item.company_url;

    div.innerHTML = `
      <img src="${img}">
      <div class="card-overlay">
        <div class="card-title">${item.company}</div>
      </div>
    `;
    box.appendChild(div);
  });
}
</script>

</body>
</html>
