<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å›½äº§å¥³ä¼˜</title>
<style>
/* ======= å…¨å±€æ ·å¼ ======= */
body {
  margin: 0;
  font-family: "å¾®è½¯é›…é»‘", sans-serif;
  background-color: #0d0d0d;
  color: #fff;
  padding-top: 60px; /* é¡¶éƒ¨ header é«˜åº¦ */
}

/* ======= å¥³ä¼˜å¡ç‰‡ç½‘æ ¼ ======= */
#actressGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 20px;
  justify-items: center;
  padding: 20px;
}

#actressGrid .card {
  background-color: #1a1a1a;
  border-radius: 10px;
  overflow: hidden;
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  width: 100%;
  max-width: 220px;
}

#actressGrid .card:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
}

#actressGrid .card img {
  width: 100%;
  height: 260px;
  object-fit: cover;
  background-color: #222;
}

#actressGrid .card-title {
  padding: 10px;
  font-size: 15px;
  text-align: center;
  color: #eee;
}

#actressGrid .card-info {
  font-size: 13px;
  color: #ccc;
  text-align: center;
  padding-bottom: 10px;
  line-height: 1.6;
}

/* ======= åˆ†é¡µ ======= */
.pagination {
  margin-top: 20px;
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
  justify-content: center;
  padding-bottom: 30px;
}
.pagination button {
  padding: 6px 12px;
  background: #333;
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}
.pagination button.active { background: red; }
.pagination button:hover:not(:disabled) { background: #555; }
.pagination button:disabled { opacity: 0.4; cursor: not-allowed; }
.pagination span { font-size: 14px; }
/* å›ºå®š header */
#header-placeholder {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 999;
}
</style>
</head>
<body>

<!-- ======= é¡¶éƒ¨å¯¼èˆª ======= -->
<div id="header-placeholder"></div>

<!-- ======= ä¸»ä½“å†…å®¹ ======= -->
<div id="mainContent">
  <div id="actressSection">
    <div id="actressGrid"></div>
    <div class="pagination" id="actressPagination"></div>
  </div>
</div>

<script>
// ======= åŠ¨æ€åŠ è½½ header.html å¹¶è°ƒç”¨ header.js =======
fetch('header.html')
  .then(res => res.text())
  .then(html => {
    document.getElementById('header-placeholder').innerHTML = html;

    // è½½å…¥ header.js
    const script = document.createElement('script');
    script.src = 'header.js';
    script.onload = () => {
      if (typeof initHeaderMenu === 'function') initHeaderMenu();
      if (typeof setActiveMenu === 'function') setActiveMenu('menu-actress');
    };
    document.body.appendChild(script);
  });
  
/* ========== åŠ è½½åº•éƒ¨ footer.html ========== */ 
fetch('https://yunvgong.com/footer.html')
  .then(r => r.text())
  .then(html => {
    // åŠ¨æ€åˆ›å»ºåº•éƒ¨å®¹å™¨å¹¶æ’å…¥é¡µé¢
    let footer = document.getElementById('footer-placeholder');
    if (!footer) {
      footer = document.createElement('div');
      footer.id = 'footer-placeholder';
      document.body.appendChild(footer);
    }
    footer.innerHTML = html;
  })
  .catch(e => console.warn('æ— æ³•åŠ è½½ footer.html:', e));

// ======= åŠ è½½å¥³ä¼˜æ•°æ® =======
let actresses = [], actressPage = 1, actressPageSize = 18;

async function loadActresses() {
  try {
    const res = await fetch("https://raw.githubusercontent.com/erik7761269084-arch/-/main/CN_AV/category/CN_actress_menu_all.json");
    const data = await res.json();
    actresses = data.filter(a => a.img_url && a.img_url.trim() !== "");
    renderActresses();
  } catch (err) {
    console.error("åŠ è½½å¥³ä¼˜æ•°æ®å¤±è´¥:", err);
    document.getElementById('actressGrid').innerHTML = "<p style='text-align:center;color:#ccc;'>åŠ è½½å¤±è´¥ï¼Œè¯·ç¨åå†è¯•ã€‚</p>";
  }
}

function renderActresses() {
  const container = document.getElementById('actressGrid');
  container.innerHTML = '';
  const start = (actressPage - 1) * actressPageSize;
  const end = start + actressPageSize;

  actresses.slice(start, end).forEach(a => {
    const card = document.createElement('div');
    card.className = 'card';
    card.onclick = () => {
      if (a.actress_url) window.location.href = a.actress_url;
    };
    card.innerHTML = `
      <img src="${a.img_url}" alt="${a.name}">
      <div class="card-title">${a.name}</div>
      <div class="card-info">
        ${a.zodiac ? `ğŸŒŸ ${a.zodiac}<br>` : ""}
        ${a.height ? `ğŸ“ ${a.height}<br>` : ""}
        ${a.measurements ? `ğŸ’ƒ ${a.measurements}` : ""}
      </div>`;
    container.appendChild(card);
  });
  renderActressPagination();
}

function renderActressPagination() {
  const pagination = document.getElementById('actressPagination');
  pagination.innerHTML = '';
  const totalPages = Math.max(1, Math.ceil(actresses.length / actressPageSize));

  const prev = document.createElement('button');
  prev.textContent = 'ä¸Šä¸€é¡µ';
  prev.disabled = actressPage === 1;
  prev.onclick = () => { if (actressPage > 1) { actressPage--; renderActresses(); } };
  pagination.appendChild(prev);

  const span = document.createElement('span');
  span.textContent = `ç¬¬ ${actressPage} / ${totalPages} é¡µ`;
  pagination.appendChild(span);

  const next = document.createElement('button');
  next.textContent = 'ä¸‹ä¸€é¡µ';
  next.disabled = actressPage === totalPages;
  next.onclick = () => { if (actressPage < totalPages) { actressPage++; renderActresses(); } };
  pagination.appendChild(next);
}

// åˆå§‹åŒ–
loadActresses();
</script>
</body>
</html>
